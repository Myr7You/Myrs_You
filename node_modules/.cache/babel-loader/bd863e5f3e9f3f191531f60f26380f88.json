{"ast":null,"code":"var _jsxFileName = \"/Users/myryou/Documents/GitHub/Myrs_You/src/Pages/Blog/Blog.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from './Blog.module.css';\nimport Categories from '../../components/Categories/Categories';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport SideBox from '../../components/SideBox/SideBox';\nimport useWindowDimensions from '../../hooks/useWindowDimensions.js';\nimport Skeleton from '../../components/Skeleton/Skeleton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Blog = () => {\n  _s();\n\n  const {\n    search\n  } = useLocation();\n  const navigate = useNavigate();\n  const [blogs, setBlogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    width\n  } = useWindowDimensions();\n\n  const handleCate = async (event, cateId) => {\n    if (cateId !== 'All') {\n      navigate(`/blog?cat=${cateId}`);\n    } else {\n      navigate(`/blog`);\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n\n    const fetchPosts = async () => {\n      const res = await axios.get(`${process.env.REACT_APP_API}/blogs${search}`);\n\n      if (res.status === 200) {\n        setBlogs(res.data);\n        setLoading(false);\n      }\n    };\n\n    fetchPosts();\n  }, [search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.overlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.blogWrapper,\n          children: [width < 765 && /*#__PURE__*/_jsxDEV(SideBox, {\n            onSBCate: handleCate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), loading && /*#__PURE__*/_jsxDEV(Skeleton, {\n            type: \"blog\",\n            count: 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), blogs && blogs.map(blog => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.blogBox,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/blog/${blog._id}`,\n              className: \"link\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: styles.blogTitle,\n                children: blog.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.infoBox,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.date,\n                children: new Date(blog.updatedAt).toLocaleDateString('en-US', {\n                  year: 'numeric',\n                  month: 'short',\n                  day: 'numeric'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Categories, {\n                cate: blog.category,\n                onCate: handleCate,\n                children: blog.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)]\n          }, blog._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), width > 765 && /*#__PURE__*/_jsxDEV(SideBox, {\n          onSBCate: handleCate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Blog, \"xPEK/gDZscmewB1PVFgJ7/LZ6nE=\", false, function () {\n  return [useLocation, useNavigate, useWindowDimensions];\n});\n\n_c = Blog;\nexport default Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["styles","Categories","axios","useState","useEffect","useLocation","useNavigate","Link","SideBox","useWindowDimensions","Skeleton","Blog","search","navigate","blogs","setBlogs","loading","setLoading","width","handleCate","event","cateId","fetchPosts","res","get","process","env","REACT_APP_API","status","data","container","overlay","wrapper","blogWrapper","map","blog","blogBox","_id","blogTitle","title","infoBox","date","Date","updatedAt","toLocaleDateString","year","month","day","category"],"sources":["/Users/myryou/Documents/GitHub/Myrs_You/src/Pages/Blog/Blog.tsx"],"sourcesContent":["import styles from './Blog.module.css'\nimport Categories from '../../components/Categories/Categories';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport SideBox from '../../components/SideBox/SideBox';\nimport useWindowDimensions from '../../hooks/useWindowDimensions.js';\nimport Skeleton from '../../components/Skeleton/Skeleton';\ninterface IState {\n  blogType: {\n    title: string;\n    category: string;\n    ctxEn : string;\n    ctxCh : string;\n    _id: string;\n    username: string;\n    updatedAt: string;\n  };\n  loading:boolean;\n}\nconst Blog = () => {\n  const { search } = useLocation();\n  const navigate = useNavigate();\n  const [blogs, setBlogs] = useState<IState['blogType'][]>([]);\n  const [loading, setLoading] = useState<IState['loading']>(true)\n  const { width } = useWindowDimensions();\n  \n  const handleCate = async (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,cateId:string\n  ) => {\n    if (cateId !== 'All') {\n      navigate(`/blog?cat=${cateId}`);\n    } else {\n      navigate(`/blog`);\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchPosts = async () => {\n      const res = await axios.get(\n        `${process.env.REACT_APP_API}/blogs${search}`\n      );\n      if (res.status === 200) {\n        setBlogs(res.data);\n        setLoading(false);\n      }\n    };\n    fetchPosts();\n  }, [search]);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.overlay}>\n        <div className={styles.wrapper}>\n          <div className={styles.blogWrapper}>\n            {width < 765 && <SideBox onSBCate={handleCate} />}\n            {loading && <Skeleton type=\"blog\" count={5} />}\n            {blogs &&\n              blogs.map(blog => (\n                <div className={styles.blogBox} key={blog._id}>\n                  <Link to={`/blog/${blog._id}`} className=\"link\">\n                    <h1 className={styles.blogTitle}>{blog.title}</h1>\n                  </Link>\n                  <div className={styles.infoBox}>\n                    <span className={styles.date}>\n                      {new Date(blog.updatedAt).toLocaleDateString('en-US', {\n                        year: 'numeric',\n                        month: 'short',\n                        day: 'numeric'\n                      })}\n                    </span>\n                    <Categories cate={blog.category} onCate={handleCate}>\n                      {blog.category}\n                    </Categories>\n                  </div>\n                </div>\n              ))}\n          </div>\n          {width > 765 && <SideBox onSBCate={handleCate} />}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Blog"],"mappings":"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"},"metadata":{},"sourceType":"module"}